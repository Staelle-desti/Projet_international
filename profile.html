<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ForeIUT ‚Äì Profile</title>

<style>
    body {
    font-family: "Comic Sans MS", cursive;
    background: #e6f7ff;
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* Conteneur principal */
.container {
    width: 340px;
    height: 90vh;
    background: #f8ffff;
    border-radius: 30px;
    border: 3px solid #cfeaf5;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
    padding: 20px;

    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: flex-start;

    position: relative;
}

/* Bouton retour */
.backBtn {
    position: absolute;
    top: 15px;
    left: 15px;
    background: #6dc5ff;
    border: none;
    border-radius: 50%;
    width: 42px;
    height: 42px;
    color: white;
    font-size: 20px;
    cursor: pointer;
}

/* Titre */
h1 {
    color: #2ecc71;
    margin-top: 10px;
    margin-bottom: 15px;
    order: 0;
}

/* Photo de profil */
#profilePic {
    width: 120px;
    height: 120px;
    border-radius: 50%;
    object-fit: cover;
    border: 4px solid #2ecc71;
    margin-bottom: 20px;
    order: 1;
}

/* Ancienne mascotte (si utilis√©e) */
<!-- .avatar { -->
    width: 110px;
    height: 110px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid #2ecc71;
    margin-bottom: 15px;
<!-- } -->

/* Infos utilisateur */
.infoBox {
    background: #ffffff;
    border: 2px solid #6dc5ff;
    border-radius: 20px;
    padding: 15px;
    width: 100%;
    text-align: center;
    margin-bottom: 15px;
    font-size: 16px;
    order: 2;
}

/* Input upload photo */
#photoInput {
    margin-top: 10px;
    margin-bottom: 10px;
    order: 3;
}

/* Bouton sauvegarde photo */
button[onclick="savePhoto()"] {
    padding: 10px;
    width: 160px;
    border-radius: 20px;
    border: none;
    background: #6dc5ff;
    color: white;
    font-size: 16px;
    cursor: pointer;
    margin-bottom: 15px;
    transition: 0.2s;
    order: 3;
}

button[onclick="savePhoto()"]:hover {
    transform: scale(1.05);
}

/* Bouton logout */
.btn {
    width: 200px;
    padding: 12px;
    border-radius: 25px;
    border: none;
    background: #2ecc71;
    color: white;
    font-size: 18px;
    cursor: pointer;
    margin-top: auto;
    transition: 0.2s;
    order: 4;
}

.btn:hover {
    transform: scale(1.05);
}

</style>
</head>

<body>

<div class="container">

    <!-- Bouton retour -->
    <button class="backBtn" onclick="window.location.href='chat.html'">‚¨Ö</button>

    <h1>My Profile</h1>

    <!-- Mascotte -->
    <!-- <img src="poule.png" alt="Mascot" class="avatar"> -->

    <!-- Infos utilisateur -->
    <div class="infoBox">
        üë§ Name: <span id="username">---</span>
    </div>

    <div class="infoBox">
        ‚≠ê Points: <span id="points">0</span>
    </div>
	
	<img id="profilePic" src="default-avatar.png" class="avatar">

<input type="file" id="photoInput" accept="image/*">
<button onclick="savePhoto()">Save photo</button>

<h2 id="username"></h2>


    <button class="btn" onclick="logout()">Logout</button>
</div>

<script>
    // R√©cup√©ration du nom depuis login.html
    const username = localStorage.getItem("chatName");
    const points = localStorage.getItem("points") || 0;

    if (username) {
        document.getElementById("username").textContent = username;
    } else {
        document.getElementById("username").textContent = "Guest";
    }

    document.getElementById("points").textContent = points;

    function logout() {
        localStorage.clear();
        window.location.href = "login.html";
    }
</script>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const name = localStorage.getItem("chatName");
    document.getElementById("username").textContent = name || "Anonymous";

    const savedPhoto = localStorage.getItem("profilePhoto");
    if (savedPhoto) {
        document.getElementById("profilePic").src = savedPhoto;
    }
});

function savePhoto() {
    const input = document.getElementById("photoInput");
    const file = input.files[0];
    if (!file) return;

    const reader = new FileReader();
    reader.onload = () => {
        localStorage.setItem("profilePhoto", reader.result);
        document.getElementById("profilePic").src = reader.result;
    };
    reader.readAsDataURL(file);
}
</script>


</body>
</html>
